---
title: “180730 Jekyll 테마 바꾸려다가 git의 (거의)모든 기능을 다 써본 썰”
date: 2018-07-30 21:18:00 -0400
categories: DAILY
---

개발자가 되고 싶다면 블로그 간지는 github.io 정도 되어줘야지, 라는 마음으로 야심차게 github.io를 열었으나 역시나 개발자는 아무나 되는 것이 아니었다. 아니, 테마는 어떻게 씌우는거야, 글은 어떻게 쓰는거야, 댓글은 어떻게 다는거야, 글씨는 왤케 큰거야, 아니 카테고리 하나 만드는데 이렇게까지 어려울 일인가..!! 등등의 마음이 솟아 올랐다.

오늘 출근해서 하루 종일 git과 씨름했다. 그냥 알아서 동기화해줬으면 좋겠는데 넘나리 어려운 git... 개발자를 향해 가는 길은 정말 멀고도 험하다는 생각을 했다.  Jekyll 테마 한 번 커스터마이즈 해보려다가 온세상 git 명령어를 다 만나고 온 이야기를 털어내본다.


## GIT으로 버전관리 하는 순서(원래)
1. `git init`  내가 지금부터 이 폴더에 대한 버전관리를 시작한다.

2. `git add`  그 중에서도 이 파일들에 대한 변화를 추적할 것이다.
(파일수정)

3. `git commit`  그 수정된 내용들을 버전에 넣겠다.
이렇게 하면 나의 로컬 폴더에만 버전관리가 되고 있는 것임. 그 내용은 .git을 보면 됨. 그렇지만 우리는 **로컬에서만 이 코드를 갖고 있을 게 아니잖아요??!!**

4. `git remote add 원격저장소별명 <url>` 나 지금부터 이 원격저장소랑 연결을 할 거야.
git remote -v 를 하면, 내가 연동해놓은 원격 저장소들의 리스트를 볼 수 있다.
나중에 여러 저장소에서 작업할 때 이름 정해놓은 거 잘 보고 작업해야겠다는 생각을 함.

5. `git push 원격저장소별명 로컬브랜치:원격브랜치`  origin이라는 이름의 원격저장소의 master 브랜치에, 내 로컬저장소의 master branch 내용을 푸시한다!


## 오늘의 삽질
처음에 만들었을 때에는 remote-theme 설정을 해서, 내 블로그의 repository에 파일들을 끌어오지 않았다. 그런데 글자 크기도 바꾸고 싶고, 네비게이션 메뉴도 만들고 싶어서 Jekyll 테마 자체의 코드를 내 repository로 가져와야 했다.

그래서 그 repo에서 파일을 내려 받아서 압축을 해제한 후 github 웹페이지에서 파일 업로드를 하려고 했다. 그런데 아니 이게 웬일! 한번에 파일이 100개 밖에 업로드가 안되기 때문에, 그 테마의 수많은 파일들을 업로드할 수가 없었던 것이다.

나는 다른 방식을 찾다가, 그냥 이미 다운 받아버린 폴더에다가 기존 설정값을 넣어서 다시 git에 배포해야겠다는 생각을 했다. 그런데 이게 어떻게 될 줄 알고 내가 master에다가 바로 커밋을 해?! 새 브랜치 하나 파서 해야지! 나 자신의 개발자스러움에 살짝 취했다. 크-

그래서 열심히 `git checkout -b theme`을 치고 거기에 `git commit -am “블라”`라고 친 후, 멋지게 `git push origin master:theme`을 날렸다. 그리고 실제로 GitHub 페이지에서 봤더니 파일들이 다 올라가 있었음! 나 스스로가 너무나 대견하고 뿌듯한 순간이었다.

크, 이제 master 브랜치에 머지만 하면 되겠다 했는데, 엥 안되는 것임.  아니 대체 왜!! 

이런 에러 메세지가 떴다. 진정한 개발자라면 오류 메시지를 먼저 봤어야 했는데--~~아직 갈 길이 멀군..~~--놀라서 이것저것 먼저 다 쳐봤다. 파일을 째로 다시 올리려고 push 도 다시 해보려고 하니까, remote change를 integrate하라고 해서 `git pull origin master`도 의미없이 날려보고 `git fetch`도 해보고 난리깨방정을 떨었다. 그제서야 다시 정신차리고 오류메시지를 쳐다봤지. 그리고 구글링 끝에(10초만에 찾을 수 있는 문제이기는 했지만) 이런 문제가 있어서 발생한 오류라는 걸 알게 됐다!

1. 원래 있던 repository를 clone한 게 아니라 전혀 다른 소스를 master--히스토리가 있는--에 push하려고 했으니
2. git 상에서의 역사를 기준으로 업데이트를 하는 git이 보기에는 전혀 다른 두 개의 repo이기 때문에, 아예 비교를 할 수가 없음 === 어디가 달라졌는지 알 수가 없음 => push고 pull이고를 못함

그래서 어떻게 해야 하냐면, 원격저장소에 로컬저장소가 덮어씌워져도 된다는 전제 하에
`git rebase —onto 합침당할브랜치 주입될브랜치` 를 실행한다. 나는 이 방식을 썼는데, 특정 토픽이나 브랜치에서 하나의 commit 만을 가져오고 싶은 경우에는 `git cherry-pick 커밋ID`를 실행할 수도 있다고 한다.

오늘 그래도 git이랑 많이 친해진 것 같아서 기분이 좋다. 앞으로 잘해보자.
